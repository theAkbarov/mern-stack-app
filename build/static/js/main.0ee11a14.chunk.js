(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(29),o=n.n(s),r=n(4),l=n(11),i=n(1),d=function(){var e=Object(c.useState)(window.localStorage.getItem("token")),t=Object(r.a)(e,2),n=t[0];t[1];return Object(i.jsx)("header",{children:Object(i.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"d-flex justify-content-between w-100 py-3",children:[Object(i.jsx)("h1",{className:"navbar-brand",children:Object(i.jsx)(l.b,{className:"text-decoration-none text-light",to:"/",children:"TODO app"})}),n?Object(i.jsx)("button",{className:"btn btn-primary",children:Object(i.jsx)(l.b,{className:"text-light text-decoration-none",to:"/profile",children:"Profile"})}):Object(i.jsx)(l.b,{className:"text-decoration-none text-light fw-600",to:"/auth",children:Object(i.jsx)("button",{className:"btn btn-success btn-lg",children:"Authentication"})})]})})})})},j=n(6),u=n.n(j),b=function(e){var t=e.children;return Object(i.jsx)("ul",{className:"list-group",children:t})},h=n(19),m=n(32),O={Group:b,Option:function(e){var t=e.title,n=e.checked,a=e.id,s=e.token,o=Object(c.useRef)(),d=Object(c.useState)(t),j=Object(r.a)(d,2),b=j[0],O=j[1];return Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("label",{class:"w-100 float-nonecustom-control-label  d-flex align-items-center justify-content-between",htmlFor:t,children:[Object(i.jsxs)("div",{onClick:function(){u.a.patch("http://localhost:8080/api/notes/".concat(a),{headers:{Authorization:"Bearer ".concat(s),"Access-Control-Allow-Origin":"*"}}).then((function(e){return alert(e)})).catch((function(e){return console.log(e)}))},class:" w-100 custom-control custom-checkbox d-flex align-items-center",children:[Object(i.jsx)("input",{checked:n,type:"checkbox",class:"custom-control-input",id:a}),Object(i.jsx)("input",{onBlur:function(){o.current.disabled=!0,u.a.put("http://localhost:8080/api/notes/".concat(a),{text:b},{headers:{Authorization:"Bearer ".concat(s),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},onClick:function(){},onChange:function(e){O(e.target.value)},disabled:!0,ref:o,className:"border-0 ms-2 w-100 form-control",type:"text",value:b})]}),Object(i.jsx)("button",{className:"btn btn-primary float-end ms-2 d-flex align-items-center justify-content-center",onClick:function(){o.current.disabled=!1,o.current.focus()},children:Object(i.jsx)(h.b,{})}),Object(i.jsx)("button",{onClick:function(){return function(e){u.a.delete("http://localhost:8080/api/notes/".concat(e),{headers:{Authorization:"Bearer ".concat(s),"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}(a)},className:"btn btn-danger d-flex align-items-center justify-content-center ms-1",children:Object(i.jsx)(h.a,{})}),Object(i.jsx)("button",{className:"btn btn-warning d-flex align-items-center justify-content-center ms-1",children:Object(i.jsx)(l.b,{to:"/".concat(a),children:Object(i.jsx)(m.a,{style:{fill:"white"}})})})]})})}},x=(n(61),function(){return Object(i.jsx)("section",{children:Object(i.jsx)("div",{class:"loader"})})}),f=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(window.localStorage.getItem("token")),o=Object(r.a)(s,2),l=o[0],d=(o[1],Object(c.useRef)()),j=function(){u.a.get("http://localhost:8080/api/notes",{headers:{Authorization:"Bearer ".concat(l),"Access-Control-Allow-Origin":"*"}}).then((function(e){return a(e.data.notes)})).catch((function(e){return console.log(e)}))};return Object(c.useEffect)((function(){j()}),[]),Object(i.jsx)("div",{className:"container",children:l?Object(i.jsxs)("div",{className:"card col-6 offset-3 mt-5",children:[Object(i.jsxs)("div",{className:"card-header d-flex",children:[Object(i.jsx)("input",{placeholder:"Create notes...",ref:d,type:"text",className:"form-control"}),Object(i.jsx)("button",{onClick:function(){u.a.post("http://localhost:8080/api/notes",{text:d.current.value},{headers:{Authorization:"Bearer ".concat(l),"Access-Control-Allow-Origin":"*"}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),d.current.value="",j()},className:"ms-1 btn-outline-primary btn",children:"Create"})]}),Object(i.jsx)("div",{className:"card-body",children:n.length>0?Object(i.jsx)(O.Group,{children:n.map((function(e){return Object(i.jsx)(O.Option,{token:l,id:e._id,checked:e.completed,title:e.text},e._id)}))}):Object(i.jsx)(x,{})}),Object(i.jsx)("div",{className:"card-footer",children:Object(i.jsx)("button",{className:"btn btn-danger",children:"Delete"})})]}):Object(i.jsx)("div",{class:"alert alert-danger mt-5 p-5",role:"alert",children:Object(i.jsx)("h1",{children:"Create a todo please Sign in first"})})})},p=n(14),g=n(15),N=n(3),w=function(e){var t=e.setAccount,n=e.handleChange,c=e.handleSubmit;return Object(i.jsxs)("div",{className:" col-6 mt-5 offset-2",children:[Object(i.jsx)("h1",{className:"py-5",children:"Registration"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(i.jsx)("input",{type:"text",onChange:function(e){return n(e.target)},name:"username",className:"form-control",id:"exampleInputEmail1"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(i.jsx)("input",{type:"password",onChange:function(e){return n(e.target)},className:"form-control",name:"password"})]}),Object(i.jsx)("button",{onClick:c,type:"submit",className:"btn btn-primary",children:"Register"}),Object(i.jsx)("button",{onClick:function(){return t(!1)},className:"btn text-decoration-underline d-block mt-5",children:"Already created an account?"})]})},v=function(e){var t=e.setAccount,n=e.handleSubmit;return Object(i.jsxs)("div",{className:" col-6 mt-5 offset-2",children:[Object(i.jsx)("h1",{className:"py-5",children:"Login"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{for:"mail",className:"form-label",children:"Email address"}),Object(i.jsx)("input",{type:"email",className:"form-control",id:"mail"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(i.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(i.jsx)("button",{onClick:n,className:"btn btn-primary",children:"Login"}),Object(i.jsx)("button",{onClick:function(){return t(!0)},className:"btn text-decoration-underline d-block mt-5",children:"No account? Let's create a new one."})]})},C=function(){var e=Object(N.g)(),t=Object(c.useState)(!0),n=Object(r.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)({}),l=Object(r.a)(o,2),d=l[0],j=l[1],b=function(e){j(Object(g.a)(Object(g.a)({},d),{},Object(p.a)({},e.name,e.value)))},h=function(){var t="http://localhost:8080/".concat(a?"api/auth/register":"api/auth/login");u.a.post(t,Object(g.a)({},d),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json"}}).then((function(e){return window.localStorage.setItem("token",e.data.jwt_token)})).then(e.push("/")).catch((function(e){return console.error(e)}))};return Object(i.jsx)("div",{className:"container",children:a?Object(i.jsx)(w,{setAccount:s,handleChange:b,handleSubmit:h}):Object(i.jsx)(v,{setAccount:s,handleSubmit:h,handleChange:b})})},A=function(e){var t=e.match,n=Object(c.useState)({}),a=Object(r.a)(n,2),s=a[0],o=a[1],l=Object(c.useState)({}),d=Object(r.a)(l,2),j=d[0],b=d[1],h=Object(c.useState)(null),m=Object(r.a)(h,2),O=(m[0],m[1],Object(c.useState)(window.localStorage.getItem("token"))),x=Object(r.a)(O,2),f=x[0],p=(x[1],s.text),g=(s.userId,s.completed),N=s.createdDate;return Object(c.useEffect)((function(){u.a.get("http://localhost:8080/api/notes/".concat(t.params.id),{headers:{Authorization:"Bearer ".concat(f),"Access-Control-Allow-Origin":"*"}}).then((function(e){return o(e.data.notes)})).catch((function(e){return console.log(e)})),u.a.get("http://localhost:8080/api/users/me",{headers:{Authorization:"Bearer ".concat(f),"Access-Control-Allow-Origin":"*"}}).then((function(e){return b(e.data.user)})).catch((function(e){return console.log(e)})),setTimeout((function(){}),3e3)}),[]),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"card col-6 offset-3 mt-5",children:[Object(i.jsx)("div",{className:"card-header"}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h3",{children:"Content:"}),Object(i.jsx)("h4",{children:p}),Object(i.jsx)("h5",{children:g?"Completed":"Uncompleted"})]}),Object(i.jsxs)("div",{className:"card-footer",children:[Object(i.jsxs)("h5",{children:["Created in: ",Object(i.jsx)("strong",{children:N})]}),Object(i.jsxs)("h5",{children:["Creator: ",Object(i.jsx)("strong",{children:j[0]&&j[0].username})]})]})]})})},y=function(){var e=Object(N.g)(),t=Object(c.useState)({}),n=Object(r.a)(t,2),a=n[0],s=n[1],o=Object(c.useRef)(null),l=Object(c.useRef)(null),d=Object(c.useState)(window.localStorage.getItem("token")),j=Object(r.a)(d,2),b=j[0];j[1];return Object(c.useEffect)((function(){u.a.get("http://localhost:8080/api/users/me",{headers:{Authorization:"Bearer ".concat(b),"Access-Control-Allow-Origin":"*"}}).then((function(e){return s(e.data.user)})).catch((function(e){return console.log(e)}))}),[]),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"card mt-5",children:[Object(i.jsxs)("div",{className:"card-header",children:["Credentials of ",Object(i.jsx)("strong",{children:a[0]&&a[0].username})]}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("button",{onClick:function(){u.a.delete("http://localhost:8080/api/users/me",{headers:{Authorization:"Bearer ".concat(b),"Access-Control-Allow-Origin":"*"}}).then((function(e){return alert(e.data.message)})).catch((function(e){return console.log(e)})),window.localStorage.removeItem("token"),e.push("/auth")},className:"btn mx-2 btn-danger btn-lg",children:"Delete account"}),Object(i.jsx)("button",{onClick:function(){window.localStorage.removeItem("token"),e.push("/auth")},className:"btn btn-danger btn-lg",children:"Log out"})]}),Object(i.jsx)("div",{className:"card-footer",children:Object(i.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),u.a.patch("http://localhost:8080/api/users/me",{oldPassword:o.current.value,newPassword:l.current.value},{headers:{Authorization:"Bearer ".concat(b),"Access-Control-Allow-Origin":"*"}}).then((function(e){return alert(e.data.message)})).catch((function(e){return console.log(e)}))}(e)},className:"form-inline d-flex align-items-center",children:[Object(i.jsxs)("div",{className:"form-group mx-sm-3 mb-2",children:[Object(i.jsx)("label",{for:"inputPassword2",className:"sr-only",children:"Old password"}),Object(i.jsx)("input",{type:"password",ref:o,className:"form-control",id:"inputPassword2",placeholder:"Password"})]}),Object(i.jsxs)("div",{className:"form-group mx-sm-3 mb-2",children:[Object(i.jsx)("label",{for:"inputPassword2",className:"sr-only",children:"New password"}),Object(i.jsx)("input",{type:"password",className:"form-control",ref:l,id:"inputPassword2",placeholder:"Password"})]}),Object(i.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Change"})]})})]})})};var k=function(){var e=Object(c.useState)(window.localStorage.getItem("token")),t=Object(r.a)(e,2),n=t[0];return t[1],Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(d,{}),Object(i.jsxs)(N.d,{children:[Object(i.jsx)(N.b,{path:"/profile",children:n?Object(i.jsx)(y,{}):Object(i.jsx)(N.a,{to:"/auth"})}),Object(i.jsx)(N.b,{component:C,path:"/auth"}),Object(i.jsx)(N.b,{component:A,path:"/:id"}),Object(i.jsx)(N.b,{component:f,path:"/"})]})]})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(l.a,{children:Object(i.jsx)(k,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.0ee11a14.chunk.js.map